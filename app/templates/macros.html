{% macro with_errors(field) %}
    {% for error in field.errors %}
        <span style="color: red;">{{ error }}</span>
    {% endfor %}
{% endmacro %}

{% macro render_field(field) %}
 <div class="form-floating mb-3">
    {{ field(class="form-control", id="floatingInput", placeholder=' ') }}
    {{ field.label(for="floatingInput")}}
    {{ with_errors(field) }}
</div>
{% endmacro %}

{% macro pagination(prev_url, next_url) %}
<ul class="pagination">
    {% if prev_url %}
        <li class="page-item">
          <a class="page-link" href="{{ prev_url }}">
            <span aria-hidden="true">Новые отчеты</span>
          </a>
        </li>
    {% endif %}
    {% if next_url %}
    <li class="page-item">
      <a class="page-link" href="{{ next_url }}">
        <span aria-hidden="true">Старые отчеты</span>
      </a>
    </li>
    {% endif %}
</ul>
{% endmacro %}
{% macro render_expansion(expansion, report) %}
    <ul class="list-group">
        {% for expanse in expansion %}
        {% if expanse.timestamp.date() == report.timestamp.date() %}
        <li class="list-group-item d-flex justify-content-between align-items-start">
            <div class="ms-2 me-auto">
                <div class="fw-bold">
                    {{expanse.money}} грн.
                </div>
                {% for c in expanse.categories %}
                <span class="badge bg-secondary">{{ c.name }}</span>
                {% endfor %}
            </div>
            <span class="badge bg-primary rounded-pill"> {{expanse.type_cost}}</span>
        </li>
        {% endif %}
        {% endfor %}
    </ul>
{% endmacro %}

{% macro render_supply(supply, report) %}
   <ul class="list-group">
        {% for s in supply %}
        {% if s.timestamp.date() == report.timestamp.date() %}
        <li class="list-group-item d-flex justify-content-between align-items-start">
            <div class="ms-2 me-auto">
                <div class="fw-bold">
                    {{s.money}} грн.
                </div>
                <span class="badge bg-secondary">{{ s.product_name }}</span>
            </div>
            <span class="badge bg-primary rounded-pill"> {{s.type_cost}}</span>
        </li>
        {% endif %}
        {% endfor %}
    </ul>
{% endmacro %}
